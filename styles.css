
:root {
  --bg-color: #f5f7fb;
  --card-color: #fff;
  --text-primary: #111827;
  --text-secondary: #6b7280;
  --accent: #2563eb;
  --border: #e5e7eb;
  --done: #16a34a;
  --rest-bg: #fff7ed;
  --rest-border: #fb923c;
}

* { box-sizing: border-box; min-width: 0; }
* { transition: background-color .2s ease, color .2s ease, border-color .2s ease, box-shadow .2s ease, transform .16s ease; }
html, body { margin: 0; width: 100%; overflow-x: hidden; }
body { min-height: 100vh; font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans KR",sans-serif; background: var(--bg-color); color: var(--text-primary); }
.app-container { min-height: 100vh; display: flex; flex-direction: column; }
.app-header { padding: 14px 14px 6px; }
.app-header h1 { margin: 0; font-size: 24px; }
.app-header p { margin: 4px 0 0; color: var(--text-secondary); }
.main-screen { flex: 1; padding: 6px 14px; }
.screen { display: none; gap: 10px; }
.screen.active { display: grid; }
.hero,.card { background: var(--card-color); border: 1px solid var(--border); border-radius: 14px; box-shadow: 0 6px 20px rgba(17,24,39,.08); }
.hero { padding: 26px 14px; text-align: center; }
.logo { width: 72px; height:72px; margin:0 auto 12px; border-radius: 999px; display:grid; place-items:center; font-size:34px; background:#dbeafe; }
.hero h2,.card h2,.card h3,.card h4 { margin: 0; }
.hero p { margin: 8px 0 0; color: var(--text-secondary); }
.card { padding: 12px; }
.scheduler-header { display:grid; grid-template-columns: auto 1fr auto; align-items:center; gap:10px; text-align:center; }
.scheduler-header h2 { font-size: clamp(17px, 4vw, 22px); }
.calendar-scroll { max-height: 66vh; overflow-y: auto; overflow-x: hidden; border: 1px solid var(--border); border-radius: 10px; padding: 8px; background:#f8fafc; touch-action: pan-y; }
.month-block { background:#fff; border:1px solid var(--border); border-radius: 10px; padding:8px; }
.month-block + .month-block { margin-top: 8px; }
.month-title { margin: 0 0 6px; font-size: 15px; }
.days-grid { display:grid; grid-template-columns: repeat(7,minmax(0,1fr)); gap:4px; }
.day-label,.day-button { border-radius: 8px; text-align:center; display:grid; place-items:center; }
.day-label { color: var(--text-secondary); min-height: 24px; font-size: 11px; font-weight: 700; }
.day-empty { visibility:hidden; }
.day-button { border:1px solid var(--border); background:#fff; min-height: 44px; padding:2px; gap:1px; }
.day-button .date-num { font-size:12px; font-weight:700; }
.day-button .bodypart-tag { font-size:10px; color:#1d4ed8; max-width:100%; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.day-button.selected { border-color: var(--accent); background:#eff6ff; }
.entry-modal { border:none; padding:0; width:min(700px,calc(100vw - 24px)); background:transparent; }
.entry-modal::backdrop { background: rgba(17,24,39,.42); }
.entry-card { margin:0; }
.scheduler-form { margin-top: 8px; display:grid; gap:10px; }
label { display:grid; gap:6px; font-size:14px; font-weight:600; }
input { border:1px solid var(--border); border-radius:10px; padding:10px; font:inherit; }
.exercise-header { display:flex; justify-content:space-between; align-items:center; gap:8px; }
.header-actions { display:flex; gap:6px; flex-wrap:wrap; justify-content:flex-end; }
.transfer-panel { border:1px dashed var(--border); border-radius:10px; padding:10px; display:grid; gap:8px; }
.transfer-help { margin:0; color: var(--text-secondary); font-size:13px; }
.transfer-calendar { display:grid; grid-template-columns:repeat(7,minmax(0,1fr)); gap:6px; }
.transfer-day-head { text-align:center; font-size:11px; color:var(--text-secondary); font-weight:700; }
.transfer-day { border:1px solid var(--border); border-radius:8px; background:#fff; min-height:58px; padding:4px; font-size:10px; text-align:left; }
.transfer-day .num { font-size:11px; font-weight:700; display:block; text-align:center; margin-bottom:2px; }
.transfer-day .mini-list { color:#1d4ed8; line-height:1.2; max-height:36px; overflow:hidden; }
.transfer-empty { visibility:hidden; }
.exercise-rows { display:grid; gap:8px; }
.exercise-row { display:grid; grid-template-columns: 1.2fr .8fr .8fr auto; gap:8px; }
.form-actions,.timer-actions { display:grid; grid-template-columns: repeat(3,minmax(0,1fr)); gap:8px; }
.btn { border:1px solid var(--border); border-radius:10px; padding:10px; background:#fff; font-weight:600; }
.btn.small { padding:6px 9px; }
.btn.primary { background: var(--accent); border-color: var(--accent); color:#fff; }
.subtitle { margin: 6px 0 10px; color: var(--text-secondary); }
.stopwatch-card { position: relative; padding-top: 16px; }
.rest-setting-btn { position:absolute; top:10px; right:10px; width:34px; height:34px; border-radius:999px; border:1px solid var(--border); background:#fff; }
.stats-card p { margin: 8px 0 12px; color: var(--text-secondary); }
.timer { margin: 8px 0; text-align:center; font-size: clamp(30px,7vw,46px); font-variant-numeric: tabular-nums; }
.rest-label { margin: -2px 0 12px; text-align:center; font-size:12px; color:#b45309; }
.timer-flash { margin:8px 0; text-align:center; color:#b45309; font-weight:700; font-size: clamp(16px,4vw,22px); }
.stopwatch-card.resting { border-color: var(--rest-border); background: var(--rest-bg); }
.plan-list { margin:10px 0 0; list-style:none; padding:0; display:grid; gap:6px; }
.plan-item { border:1px solid var(--border); border-radius:10px; padding:10px; font-size:13px; }
.plan-item.done { border-color: var(--done); background:#ecfdf3; }
.plan-item.running { border-color: var(--accent); background:#eff6ff; color:#1d4ed8; font-weight:700; }
.bottom-nav { display:grid; grid-template-columns: repeat(3,minmax(0,1fr)); gap:8px; padding:10px 12px calc(10px + env(safe-area-inset-bottom)); border-top:1px solid var(--border); background:#fff; position:sticky; bottom:0; }
.nav-button { border:1px solid var(--border); border-radius:10px; background:#fff; font-size:14px; font-weight:700; padding:10px 4px; }
.nav-button.active { border-color: var(--accent); color: var(--accent); background:#eff6ff; }
.status-modal { border:none; border-radius:12px; padding:16px; width:min(320px,calc(100vw - 40px)); }
.status-modal::backdrop { background: rgba(17,24,39,.35); }
.status-modal input { width: 100%; margin: 8px 0 10px; }

.btn:hover,.nav-button:hover,.day-button:hover,.transfer-day:hover { transform: translateY(-1px); box-shadow: 0 6px 12px rgba(37,99,235,.12); }
.btn:active,.nav-button:active,.day-button:active,.transfer-day:active { transform: translateY(0); }

.timer-actions { margin-top: 18px; }
.timer { margin: 16px 0 10px; }
.timer-meta {
  margin: 6px 0 8px;
  text-align:center;
  font-size:14px;
  font-weight:800;
  color:#1e3a8a;
  letter-spacing:.2px;
  background:#eff6ff;
  border:1px solid #bfdbfe;
  border-radius:999px;
  padding:6px 10px;
}

.fade-in { animation: fadeInUp .24s ease both; }
.fade-out { animation: fadeOut .24s ease both; }
@keyframes fadeInUp { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }

@media (max-width: 1920px) { .main-screen,.app-header { width:100%; } }
@media (max-width: 1280px) { .calendar-scroll { max-height:68vh; } }
@media (max-width: 780px) { .exercise-row { grid-template-columns:1fr 1fr; } .form-actions,.timer-actions { grid-template-columns:1fr; } }
@media (max-width: 500px) { .day-button{ min-height:40px; } .timer{ font-size:30px; } .timer-meta{ font-size:12px; } }
@media (max-width: 390px) { .app-header,.main-screen{ padding-left:10px; padding-right:10px; } .nav-button{ font-size:12px; } }
